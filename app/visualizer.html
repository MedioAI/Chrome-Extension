<!-- 
  © MedioAI.com - Wynter Jones (@AI.MASSIVE)
 
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MedioAI: Your Music Assistant</title>
    <link rel="stylesheet" href="/app/css/style.css" />
  </head>
  <body class="flex text-white">
    <div id="sidebar" class="w-1/6 h-screen relative">
      <div id="logo">
        <img src="/app/images/icon.png" alt="MedioAI" />
        <h2>Medio<strong>AI</strong> <span class="text-sm ml-1" style="color: #1dcca0">v1.6</span></h2>
      </div>
      <div id="nav">
        <a href="/app/index.html">Dashboard</a>
        <a href="/app/covers.html">Track Covers</a>
        <a class="active" href="/app/visualizer.html">Visualizer</a>
        <a href="/app/convert.html">Filters</a>
        <a href="/app/metatags.html">Meta Tags</a>
        <a href="/app/settings.html">Settings</a>
      </div>
      <div id="copyright">
        <p>
          &copy; 2024 MedioAI. All rights reserved. Crafted with ♡ by
          <a href="https://medioai.com" class="link" target="_blank">Wynter Jones</a>. <br /><br />
          Listen to AI music
          <a href="http://www.youtube.com/@AI.MASSIVE" class="link" target="_blank"> @AI.MASSIVE </a>
        </p>
      </div>
    </div>
    <div id="app" class="w-5/6 h-screen p-12 overflow-x-hidden">
      <h1 class="text-3xl font-bold mb-1">
        Visualizer <strong class="text-sm ml-3" style="color: #1dcca0">(Work in Progress)</strong>
      </h1>
      <p class="text-lg font-light text-gray-500">
        Visualize your music with MedioAI & upload to YouTube, Reddit, etc.
      </p>

      <hr class="my-8 border-gray-600" />


      <div id="upload">
        <h3 class="text-xl font-medium">Drag a .MP3 file here or click to browse files.</h3>
        <input type="file" id="mp3" accept=".mp3" style="display: none" />
      </div>

      <div id="visualizer" style="display: none">
        <h5 id="loadedFile" class="text-gray-500 mb-3 text-xs">
          Loaded File: <span class="text-gray-300"></span>
        </h5>
        <div id="toolbar" class="border-light rounded-t border flex items-center justify-between p-2">
          <div class="flex items-center space-x-2">
            <div class="input-group mb-0">
              <input type="text" id="title" value="Song Title" placeholder="Title" />
            </div>
            <div class="input-group mb-0">
              <input type="text" id="subtitle" value="Add your subtitle here" placeholder="Sub Title" />
            </div>
            <div class="input-group mb-0">
              <button id="addCoverImg" class="btn flex space-x-2 items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M19 13a1 1 0 0 0-1 1v.38l-1.48-1.48a2.79 2.79 0 0 0-3.93 0l-.7.7l-2.48-2.48a2.85 2.85 0 0 0-3.93 0L4 12.6V7a1 1 0 0 1 1-1h7a1 1 0 0 0 0-2H5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5a1 1 0 0 0-1-1M5 20a1 1 0 0 1-1-1v-3.57l2.9-2.9a.79.79 0 0 1 1.09 0l3.17 3.17l4.3 4.3Zm13-1a.89.89 0 0 1-.18.53L13.31 15l.7-.7a.77.77 0 0 1 1.1 0L18 17.21Zm4.71-14.71l-3-3a1 1 0 0 0-.33-.21a1 1 0 0 0-.76 0a1 1 0 0 0-.33.21l-3 3a1 1 0 0 0 1.42 1.42L18 4.41V10a1 1 0 0 0 2 0V4.41l1.29 1.3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42"
                  />
                </svg>
                <span>Cover</span>
              </button>
              <input style="display: none" type="file" id="coverImg" accept=".png, .jpg, .jpeg" />
            </div>
            <div class="input-group mb-0">
              <button id="addBgImg" class="btn flex space-x-2 items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M19 13a1 1 0 0 0-1 1v.38l-1.48-1.48a2.79 2.79 0 0 0-3.93 0l-.7.7l-2.48-2.48a2.85 2.85 0 0 0-3.93 0L4 12.6V7a1 1 0 0 1 1-1h7a1 1 0 0 0 0-2H5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5a1 1 0 0 0-1-1M5 20a1 1 0 0 1-1-1v-3.57l2.9-2.9a.79.79 0 0 1 1.09 0l3.17 3.17l4.3 4.3Zm13-1a.89.89 0 0 1-.18.53L13.31 15l.7-.7a.77.77 0 0 1 1.1 0L18 17.21Zm4.71-14.71l-3-3a1 1 0 0 0-.33-.21a1 1 0 0 0-.76 0a1 1 0 0 0-.33.21l-3 3a1 1 0 0 0 1.42 1.42L18 4.41V10a1 1 0 0 0 2 0V4.41l1.29 1.3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42"
                  />
                </svg>
                <span>Background</span>
              </button>
              <input style="display: none" type="file" id="bgImg" accept=".png, .jpg, .jpeg" />
            </div>
          </div>

          <div class="flex items-center justify-between space-x-2">
            <button id="record" class="btn primary">Record</button>
            <button id="convert" style="display:none" class="btn">Convert</button>
          </div>
        </div>

        <div id="fonts" class="p-2 border-light border-b border-l border-r flex space-x-2">
          <div class="input-group mb-0 w-full">
            <label for="layout"> Layout </label>
            <div class="slidecontainer">
              <select name="layout" id="layout">
                <option value="layout1">Standard</option>
                <option value="layout2">layout2</option>
                <option value="layout3">layout3</option>
              </select>
            </div>
          </div>
          <div class="input-group mb-0 w-full">
            <label for="waveform_type"> Waveform </label>
            <div class="slidecontainer">
              <select name="waveform_type" id="waveform_type">
                <option value="waveform1">waveform1</option>
                <option value="waveform2">waveform2</option>
                <option value="waveform3">waveform3</option>
              </select>
            </div>
          </div>
          <div class="input-group mb-0 w-full">
            <label for="template"> Typography </label>
            <div class="slidecontainer">
              <select name="font" id="font">
                <option value="font1">Arials, sans-seif</option>
              </select>
            </div>
          </div>
        </div>

        <div id="editorCanvas" class="p-8 border-light rounded-b border-b border-l border-r">
          <div id="editorWrapper">
            <canvas id="visualizeEditor" width="1920" height="1080"></canvas>
          </div>
          <audio id="audio" controls></audio>
        </div>
      </div>
    </div>

    <div id="recordingOverlay" style="display: none">
      <div id="recordingModal" class="
        w-1/3 bg-black text-center text-white p-12 text-sm rounded-lg absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2
      ">
       <div id="videoLoading">
        <h1 class="mb-1 text-green-300 text-2xl block w-full text-center">
          <svg style="margin: 0 auto" xmlns="http://www.w3.org/2000/svg" width="3em" height="3em" viewBox="0 0 24 24"><circle cx="18" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".67" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"/></circle><circle cx="12" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".33" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"/></circle><circle cx="6" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin="0" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"/></circle></svg>
        </h1>
        <h3 class="text-2xl text-white mb-2 font-bold">Recording in progress..</h3>
        <p class="px-8">Please wait a moment while your video is recorded. <br/>It will take <strong id="progressLength" class="text-yellow-400">2:30</strong> to complete.</p>
       </div>

          <div id="videoConvertingWrapper" style="display:none">
            <h3 class="text-2xl text-white mb-2 font-bold">Processing Video...</h3>
            <p class="px-8">Please wait a moment, this may take a few minutes. Your browser may stall as this is using FFMPEG to convert your video from .WEBM video to .MP4. The video will automatically download once it is ready.</p>
          </div>

          <div id="videoPreviewWrapper" style="display:none">
            <video id="videoPreview" controls class="w-full mb-2"></video>
            <button id="closePreview">Close Preview</button>
        </div>
      </div>
    </div>

    <script src="../lib/ffmpeg.min.js"></script>
    <script src="../lib/ffmpeg-core.js"></script>
    <script src="../lib/tailwind.js"></script>
    <script src="js/visualizer.js"></script>
  </body>
</html>
